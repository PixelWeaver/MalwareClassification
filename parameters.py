import sqlite3


class Parameters:
    def __init__(self):
        conn = sqlite3.connect('samples.db')
        c = conn.cursor()
        self.min_seq_size = c.execute('SELECT MIN(count) FROM (SELECT COUNT(*) AS count FROM snapshots GROUP BY sample_id)').fetchone()[0]
        conn.close()

        self.seq_size = 0
        self.epochs = 0
        self.batch_size = 0
        self.hidden_count = 0
        self.optimizers = 0
        self.learning_rate = 0
        self.units = 0
        self.dropout = 0
        self.recurrent_dropout = 0
        self.bias_l1 = 0
        self.bias_l2 = 0
        self.recurrent_l1 = 0
        self.recurrent_l2 = 0

        self.seq_size = list(range(5, self.min_seq_size + 1))
        self.epochs_dom = list(range(1, 76))
        self.batch_count_dom = [16, 32, 64, 128]
        self.hidden_count_dom = [1, 2, 3]
        self.optimizers_dom = [0, 1, 2, 3]
        self.learning_rate_dom = [0.001, 0.0015, 0.002]
        self.units_dom = list(range(0, 201))
        self.dropout_dom = [0, 0.1, 0.2, 0.3, 0.4, 0.5]
        self.recurrent_dropout_dom = [0, 0.1, 0.2, 0.3, 0.4, 0.5]
        self.bias_l1_dom = [0, 0.01, 0.02]
        self.bias_l2_dom = [0, 0.01, 0.02]
        self.recurrent_l1_dom = [0, 0.01, 0.02]
        self.recurrent_l2_dom = [0, 0.01, 0.02]
